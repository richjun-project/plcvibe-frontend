# ğŸ¨ Agent Progress UI

## ê°œìš”

ì‚¬ìš©ìê°€ Agentì˜ ì‘ì—… ì§„í–‰ ìƒí™©ì„ **ì‹¤ì‹œê°„ìœ¼ë¡œ ì‹œê°ì ìœ¼ë¡œ** í™•ì¸í•  ìˆ˜ ìˆëŠ” UI ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## ì£¼ìš” ê¸°ëŠ¥

### 1. ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°

Agent APIê°€ Server-Sent Events (SSE)ë¡œ ì§„í–‰ ìƒí™©ì„ ìŠ¤íŠ¸ë¦¬ë°:

```
Agent ì‹¤í–‰
  â†“
ë¡œê·¸ ìƒì„±: "ğŸ¤– Advanced PLC Agent started"
  â†“
SSEë¡œ ì „ì†¡: data: {"type": "log", "message": "..."}
  â†“
UI ì—…ë°ì´íŠ¸ (ì‹¤ì‹œê°„)
```

### 2. ë‹¨ê³„ë³„ ì§„í–‰ í‘œì‹œ

```
âœ… ìš”ì²­ ë¶„ì„ ë° ê³„íš ìˆ˜ë¦½
â³ ì½”ë“œ ìƒì„± (ì§„í–‰ ì¤‘)
âšª ì½”ë“œ ê²€ì¦
âšª ë¬¸ì œ ìˆ˜ì • ì¤‘
```

ê° ë‹¨ê³„ëŠ” ìƒíƒœì— ë”°ë¼ ì•„ì´ì½˜ê³¼ ìƒ‰ìƒì´ ë³€ê²½:
- âœ… ì™„ë£Œ (ë…¹ìƒ‰)
- â³ ì§„í–‰ ì¤‘ (íŒŒë€ìƒ‰, ì• ë‹ˆë©”ì´ì…˜)
- âŒ ì‹¤íŒ¨ (ë¹¨ê°„ìƒ‰)
- âšª ëŒ€ê¸° ì¤‘ (íšŒìƒ‰)

### 3. ì§„í–‰ë¥  ë°”

```
ì „ì²´ ì§„í–‰ë¥  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 45%
```

- ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜
- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
- í„ìŠ¤ íš¨ê³¼ (ì§„í–‰ ì¤‘ì¼ ë•Œ)

### 4. Iteration ì¹´ìš´í„°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Iteration  â”‚
â”‚   2 / 15   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- í˜„ì¬ ë°˜ë³µ íšŸìˆ˜
- ìµœëŒ€ ë°˜ë³µ íšŸìˆ˜
- ëŒ€í˜• ìˆ«ìë¡œ í‘œì‹œ

### 5. í˜„ì¬ ì‘ì—… ë¡œê·¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í˜„ì¬ ì‘ì—…:                           â”‚
â”‚ ğŸ”„ Generating ladder logic code...  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- ì‹¤ì‹œê°„ ë¡œê·¸ í‘œì‹œ
- ìŠ¤í”¼ë„ˆ ì• ë‹ˆë©”ì´ì…˜
- ëª¨ë…¸ìŠ¤í˜ì´ìŠ¤ í°íŠ¸

## UI ë””ìì¸

### ìƒ‰ìƒ íŒ”ë ˆíŠ¸

```css
/* ë°°ê²½ */
from-gray-900 to-gray-800     /* ê·¸ë¼ë°ì´ì…˜ */
border-blue-600/50             /* í…Œë‘ë¦¬ (ë°œê´‘ íš¨ê³¼) */

/* ìƒíƒœë³„ ìƒ‰ìƒ */
text-blue-400   /* ì§„í–‰ ì¤‘ */
text-green-400  /* ì™„ë£Œ */
text-red-400    /* ì‹¤íŒ¨ */
text-gray-600   /* ëŒ€ê¸° */

/* ê°•ì¡° */
text-yellow-400 /* Agent ì•„ì´ì½˜ */
```

### ì• ë‹ˆë©”ì´ì…˜

1. **ìŠ¤í”¼ë„ˆ (Loader2)**
   - `animate-spin`
   - ë¶€ë“œëŸ¬ìš´ íšŒì „

2. **í„ìŠ¤ íš¨ê³¼**
   - `animate-pulse`
   - ì§„í–‰ ì¤‘ì¸ ìš”ì†Œ ê°•ì¡°

3. **Ping íš¨ê³¼**
   - `animate-ping`
   - Agent ì‹œì‘ ì‹œ í™•ì¥ ì• ë‹ˆë©”ì´ì…˜

4. **ì§„í–‰ë¥  ë°” ì „í™˜**
   - `transition-all duration-500`
   - ë¶€ë“œëŸ¬ìš´ width ë³€í™”

## ì½”ë“œ êµ¬ì¡°

### AgentProgress ì»´í¬ë„ŒíŠ¸

```typescript
interface AgentStep {
  id: string
  title: string
  status: 'pending' | 'in_progress' | 'completed' | 'failed'
  description?: string
}

<AgentProgress
  steps={steps}                    // ì§„í–‰ ë‹¨ê³„ ë°°ì—´
  currentIteration={2}             // í˜„ì¬ iteration
  maxIterations={15}               // ìµœëŒ€ iteration
  currentLog="Generating code..."  // í˜„ì¬ ë¡œê·¸
  isComplete={false}               // ì™„ë£Œ ì—¬ë¶€
/>
```

### Streaming API

```typescript
// Server (app/api/agent/execute/route.ts)
const sendUpdate = (data) => {
  controller.enqueue(encoder.encode(`data: ${JSON.stringify(data)}\n\n`))
}

sendUpdate({ type: 'log', message: 'Starting...' })
sendUpdate({ type: 'complete', result: {...} })
```

### Client (ChatInterface.tsx)

```typescript
// SSE ìˆ˜ì‹ 
const reader = response.body.getReader()
while (true) {
  const { done, value } = await reader.read()
  if (done) break

  // ë¡œê·¸ íŒŒì‹± ë° UI ì—…ë°ì´íŠ¸
  if (data.type === 'log') {
    setAgentLog(data.message)
    // ë‹¨ê³„ ì—…ë°ì´íŠ¸ ë¡œì§
  }
}
```

## ë¡œê·¸ ë©”ì‹œì§€ ë§¤í•‘

| ë¡œê·¸ ë©”ì‹œì§€ | UI ì—…ë°ì´íŠ¸ |
|------------|-----------|
| "Analyzing request" | "ìš”ì²­ ë¶„ì„ ë° ê³„íš ìˆ˜ë¦½" ì‹œì‘ |
| "Plan created" | ê³„íš ìˆ˜ë¦½ ì™„ë£Œ, ì½”ë“œ ìƒì„± ì‹œì‘ |
| "Generating ladder logic" | "ì½”ë“œ ìƒì„±" í‘œì‹œ |
| "Validating code" | ì½”ë“œ ìƒì„± ì™„ë£Œ, ê²€ì¦ ì‹œì‘ |
| "Code validation passed" | ê²€ì¦ ì™„ë£Œ âœ… |
| "Attempting to fix" | "ë¬¸ì œ ìˆ˜ì • ì¤‘" ì‹œì‘ |
| "=== Iteration N ===" | Iteration ì¹´ìš´í„° ì—…ë°ì´íŠ¸ |

## ì‚¬ìš© ì˜ˆì‹œ

### 1. Agent ì‹œì‘

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– Advanced Agent...                    â”‚
â”‚ ì‘ì—… ì§„í–‰ ì¤‘                             â”‚
â”‚                                          â”‚
â”‚ Iteration: 1 / 15                        â”‚
â”‚                                          â”‚
â”‚ ì „ì²´ ì§„í–‰ë¥  â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 25%         â”‚
â”‚                                          â”‚
â”‚ â³ ìš”ì²­ ë¶„ì„ ë° ê³„íš ìˆ˜ë¦½ (ì§„í–‰ ì¤‘)      â”‚
â”‚                                          â”‚
â”‚ í˜„ì¬ ì‘ì—…:                               â”‚
â”‚ ğŸ”„ Analyzing request...                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ì½”ë“œ ìƒì„± ì¤‘

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– Advanced Agent...                    â”‚
â”‚ ì‘ì—… ì§„í–‰ ì¤‘                             â”‚
â”‚                                          â”‚
â”‚ Iteration: 1 / 15                        â”‚
â”‚                                          â”‚
â”‚ ì „ì²´ ì§„í–‰ë¥  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 50%         â”‚
â”‚                                          â”‚
â”‚ âœ… ìš”ì²­ ë¶„ì„ ë° ê³„íš ìˆ˜ë¦½                â”‚
â”‚ â³ ì½”ë“œ ìƒì„± (ì§„í–‰ ì¤‘)                   â”‚
â”‚ âšª ì½”ë“œ ê²€ì¦                             â”‚
â”‚                                          â”‚
â”‚ í˜„ì¬ ì‘ì—…:                               â”‚
â”‚ ğŸ”„ Generating ladder logic code...     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. ì™„ë£Œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Advanced Agent                        â”‚
â”‚ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤                           â”‚
â”‚                                          â”‚
â”‚ Iteration: 2 / 15                        â”‚
â”‚                                          â”‚
â”‚ ì „ì²´ ì§„í–‰ë¥  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%       â”‚
â”‚                                          â”‚
â”‚ âœ… ìš”ì²­ ë¶„ì„ ë° ê³„íš ìˆ˜ë¦½                â”‚
â”‚ âœ… ì½”ë“œ ìƒì„±                             â”‚
â”‚ âœ… ì½”ë“œ ê²€ì¦                             â”‚
â”‚                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âœ… ì‘ì—…ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!  â”‚ â”‚
â”‚ â”‚ 3/3 ë‹¨ê³„ ì™„ë£Œ Â· 2íšŒ ë°˜ë³µ             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì„±ëŠ¥ ìµœì í™”

1. **React State ìµœì í™”**
   - `useState`ë¡œ ê°œë³„ state ê´€ë¦¬
   - ë¶ˆí•„ìš”í•œ re-render ë°©ì§€

2. **ì• ë‹ˆë©”ì´ì…˜ ìµœì í™”**
   - CSS ì• ë‹ˆë©”ì´ì…˜ ì‚¬ìš© (GPU ê°€ì†)
   - `will-change` ì†ì„±

3. **ë©”ëª¨ë¦¬ ê´€ë¦¬**
   - Streaming reader cleanup
   - useEffect cleanup functions

## í–¥í›„ ê°œì„  ì‚¬í•­

- [ ] ë¡œê·¸ íˆìŠ¤í† ë¦¬ í™•ì¥/ì¶•ì†Œ
- [ ] ê° ë‹¨ê³„ë³„ ì†Œìš” ì‹œê°„ í‘œì‹œ
- [ ] ì—ëŸ¬ ë°œìƒ ì‹œ ìƒì„¸ ì •ë³´
- [ ] Dark/Light í…Œë§ˆ ì§€ì›
- [ ] ëª¨ë°”ì¼ ìµœì í™”
- [ ] ì‚¬ìš´ë“œ í”¼ë“œë°± (ì™„ë£Œ ì‹œ)
- [ ] ì§„í–‰ ìƒí™© ì €ì¥ ë° ë³µì›

## ê´€ë ¨ íŒŒì¼

- `components/features/chat/AgentProgress.tsx` - ì§„í–‰ ìƒí™© UI ì»´í¬ë„ŒíŠ¸
- `components/features/chat/ChatInterface.tsx` - SSE ìˆ˜ì‹  ë° ìƒíƒœ ê´€ë¦¬
- `app/api/agent/execute/route.ts` - SSE ìŠ¤íŠ¸ë¦¬ë° API